<!DOCTYPE html>
<html lang="en" data-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Lumina - A modern, minimal blog platform for developers and designers.">
    <meta name="author" content="Lumina Team">
    
    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:title" content="Lumina Blog">
    <meta property="og:description" content="Thoughts, stories, and ideas.">
    
    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">

    <title>Lumina | Modern Blog</title>

    <style>
        /* 
         * ==========================================
         * 1. CSS VARIABLES & THEME CONFIGURATION
         * ==========================================
         */
        :root {
            /* Light Theme Tokens */
            --bg-body: #ffffff;
            --bg-surface: #f9fafb;
            --bg-surface-alt: #f3f4f6;
            --text-main: #111827;
            --text-muted: #6b7280;
            --primary: #2563eb; /* Royal Blue */
            --primary-hover: #1d4ed8;
            --accent: #8b5cf6; /* Violet */
            --border: #e5e7eb;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            
            --font-sans: 'Inter', -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Helvetica, Arial, sans-serif;
            --max-w: 1200px;
            --header-height: 70px;
            --radius: 8px;
            --transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
        }

        [data-theme="dark"] {
            /* Dark Theme Tokens */
            --bg-body: #0f172a;
            --bg-surface: #1e293b;
            --bg-surface-alt: #334155;
            --text-main: #f8fafc;
            --text-muted: #94a3b8;
            --primary: #3b82f6;
            --primary-hover: #60a5fa;
            --border: #334155;
            --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.3);
            --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.3);
            --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.4);
        }

        /* 
         * ==========================================
         * 2. GLOBAL RESET & BASE STYLES
         * ==========================================
         */
        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        html { scroll-behavior: smooth; }
        
        body {
            font-family: var(--font-sans);
            background-color: var(--bg-body);
            color: var(--text-main);
            line-height: 1.6;
            transition: background-color 0.3s ease, color 0.3s ease;
            -webkit-font-smoothing: antialiased;
        }

        a { text-decoration: none; color: inherit; transition: var(--transition); }
        ul { list-style: none; }
        img { max-width: 100%; height: auto; display: block; border-radius: var(--radius); }
        button { cursor: pointer; border: none; background: none; font-family: inherit; color: inherit; }

        /* Typography */
        h1, h2, h3, h4, h5, h6 { line-height: 1.2; font-weight: 700; letter-spacing: -0.025em; margin-bottom: 0.75rem; }
        h1 { font-size: 2.5rem; }
        h2 { font-size: 2rem; }
        h3 { font-size: 1.5rem; }
        p { margin-bottom: 1rem; color: var(--text-muted); }

        /* Utilities */
        .container { max-width: var(--max-w); margin: 0 auto; padding: 0 1.5rem; }
        .hidden { display: none !important; }
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            padding: 0.5rem 1rem;
            border-radius: var(--radius);
            font-weight: 500;
            transition: var(--transition);
        }
        .btn-primary { background-color: var(--primary); color: white; }
        .btn-primary:hover { background-color: var(--primary-hover); transform: translateY(-1px); }
        .btn-outline { border: 1px solid var(--border); color: var(--text-main); }
        .btn-outline:hover { border-color: var(--primary); color: var(--primary); }
        
        .tag {
            font-size: 0.75rem;
            padding: 0.25rem 0.75rem;
            border-radius: 9999px;
            background-color: var(--bg-surface-alt);
            color: var(--text-muted);
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        /* 
         * ==========================================
         * 3. LAYOUT COMPONENTS
         * ==========================================
         */

        /* Header */
        .site-header {
            height: var(--header-height);
            border-bottom: 1px solid var(--border);
            background-color: rgba(var(--bg-body), 0.8);
            backdrop-filter: blur(12px);
            position: sticky;
            top: 0;
            z-index: 50;
            display: flex;
            align-items: center;
        }
        .header-inner {
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
        }
        .logo { font-size: 1.5rem; font-weight: 800; background: linear-gradient(135deg, var(--primary), var(--accent)); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        .nav-links { display: flex; gap: 2rem; align-items: center; }
        .nav-link { font-weight: 500; font-size: 0.95rem; }
        .nav-link:hover, .nav-link.active { color: var(--primary); }
        
        .header-actions { display: flex; gap: 1rem; align-items: center; }

        /* Search Bar */
        .search-container { position: relative; }
        .search-input {
            padding: 0.5rem 1rem 0.5rem 2.5rem;
            border-radius: 99px;
            border: 1px solid var(--border);
            background-color: var(--bg-surface);
            color: var(--text-main);
            font-size: 0.9rem;
            width: 200px;
            transition: var(--transition);
        }
        .search-input:focus { outline: none; border-color: var(--primary); width: 250px; }
        .search-icon { position: absolute; left: 0.75rem; top: 50%; transform: translateY(-50%); width: 16px; height: 16px; color: var(--text-muted); }

        /* Mobile Nav Toggle */
        .menu-toggle { display: none; font-size: 1.5rem; }

        /* Hero Section */
        .hero { padding: 4rem 0; text-align: center; }
        .hero h1 { margin-bottom: 1rem; }
        .hero p { max-width: 600px; margin: 0 auto 2rem; font-size: 1.125rem; }

        /* Grid Layout */
        .grid-layout {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
            gap: 2rem;
            padding-bottom: 4rem;
        }

        /* Featured Post */
        .featured-post {
            grid-column: 1 / -1;
            display: grid;
            grid-template-columns: 1.2fr 1fr;
            gap: 2rem;
            align-items: center;
            background-color: var(--bg-surface);
            border-radius: var(--radius);
            overflow: hidden;
            margin-bottom: 3rem;
            border: 1px solid var(--border);
        }
        .featured-image { height: 100%; min-height: 350px; width: 100%; object-fit: cover; }
        .featured-content { padding: 3rem; }

        /* Post Card */
        .post-card {
            display: flex;
            flex-direction: column;
            background-color: var(--bg-surface);
            border-radius: var(--radius);
            overflow: hidden;
            transition: var(--transition);
            border: 1px solid transparent;
            height: 100%;
        }
        .post-card:hover { transform: translateY(-5px); box-shadow: var(--shadow-lg); border-color: var(--border); }
        .post-image-wrapper { position: relative; padding-top: 60%; overflow: hidden; }
        .post-image { position: absolute; top: 0; left: 0; width: 100%; height: 100%; object-fit: cover; transition: transform 0.5s ease; }
        .post-card:hover .post-image { transform: scale(1.05); }
        .post-content { padding: 1.5rem; flex-grow: 1; display: flex; flex-direction: column; }
        .post-meta { display: flex; gap: 0.75rem; font-size: 0.8rem; color: var(--text-muted); margin-bottom: 0.75rem; align-items: center; }
        .author-avatar-small { width: 24px; height: 24px; border-radius: 50%; object-fit: cover; }
        .post-title { font-size: 1.25rem; margin-bottom: 0.5rem; color: var(--text-main); }
        .post-excerpt { font-size: 0.95rem; display: -webkit-box; -webkit-line-clamp: 3; -webkit-box-orient: vertical; overflow: hidden; margin-bottom: 1rem; }

        /* Article Detail View */
        .article-view { max-width: 800px; margin: 0 auto; padding: 2rem 0; }
        .article-header { text-align: center; margin-bottom: 3rem; }
        .article-title { font-size: 3rem; margin-bottom: 1rem; line-height: 1.1; }
        .article-meta-row { display: flex; align-items: center; justify-content: center; gap: 1rem; margin-bottom: 1.5rem; }
        .article-body { font-size: 1.125rem; line-height: 1.8; color: var(--text-main); }
        .article-body h2 { margin-top: 2.5rem; margin-bottom: 1rem; font-size: 1.75rem; }
        .article-body p { margin-bottom: 1.5rem; }
        .article-body blockquote { border-left: 4px solid var(--primary); padding-left: 1.5rem; font-style: italic; margin: 2rem 0; color: var(--text-main); background: var(--bg-surface); padding: 1.5rem; border-radius: 0 var(--radius) var(--radius) 0; }
        
        /* Author Profile Box */
        .author-box {
            display: flex;
            align-items: center;
            gap: 1.5rem;
            background-color: var(--bg-surface);
            padding: 2rem;
            border-radius: var(--radius);
            margin-top: 4rem;
            border: 1px solid var(--border);
        }
        .author-avatar-large { width: 80px; height: 80px; border-radius: 50%; object-fit: cover; }

        /* Footer */
        .site-footer { background-color: var(--bg-surface); padding: 4rem 0; margin-top: 4rem; border-top: 1px solid var(--border); text-align: center; }
        .footer-links { display: flex; justify-content: center; gap: 2rem; margin-bottom: 2rem; }
        
        /* Pagination */
        .pagination { display: flex; justify-content: center; gap: 0.5rem; margin-top: 2rem; }
        .page-btn { width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; border-radius: var(--radius); border: 1px solid var(--border); }
        .page-btn.active { background-color: var(--primary); color: white; border-color: var(--primary); }
        .page-btn:hover:not(.active) { background-color: var(--bg-surface-alt); }

        /* Responsive */
        @media (max-width: 768px) {
            .nav-links { display: none; } /* Simplified for mobile demo */
            .menu-toggle { display: block; }
            .featured-post { grid-template-columns: 1fr; }
            .featured-image { min-height: 250px; }
            .article-title { font-size: 2rem; }
            .search-input { width: 140px; }
            .search-input:focus { width: 180px; }
        }

        /* Loading Spinner */
        .spinner { border: 3px solid var(--bg-surface-alt); border-top: 3px solid var(--primary); border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; margin: 3rem auto; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
        
        /* Animation Classes */
        .fade-in { animation: fadeIn 0.4s ease-out forwards; }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
</head>
<body>

    <!-- Header -->
    <header class="site-header">
        <div class="container header-inner">
            <a href="#home" class="logo" aria-label="Lumina Home">Lumina.</a>
            
            <nav>
                <ul class="nav-links">
                    <li><a href="#home" class="nav-link active" data-link>Home</a></li>
                    <li><a href="#category/Technology" class="nav-link" data-link>Technology</a></li>
                    <li><a href="#category/Design" class="nav-link" data-link>Design</a></li>
                    <li><a href="#about" class="nav-link" data-link>About</a></li>
                </ul>
            </nav>

            <div class="header-actions">
                <div class="search-container">
                    <svg class="search-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path></svg>
                    <input type="text" id="searchInput" class="search-input" placeholder="Search posts..." aria-label="Search">
                </div>
                
                <button id="themeToggle" class="btn btn-outline" aria-label="Toggle Dark Mode">
                    <!-- Sun Icon -->
                    <svg class="sun-icon" style="width:20px;height:20px;display:none;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"></path></svg>
                    <!-- Moon Icon -->
                    <svg class="moon-icon" style="width:20px;height:20px;" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 24.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z"></path></svg>
                </button>

                <button class="menu-toggle" aria-label="Menu">â˜°</button>
            </div>
        </div>
    </header>

    <!-- Main Content Area -->
    <main id="app" class="container" style="min-height: 80vh; padding-top: 2rem;">
        <!-- Dynamic content will be injected here via JavaScript -->
    </main>

    <!-- Footer -->
    <footer class="site-footer">
        <div class="container">
            <div class="footer-links">
                <a href="#">Privacy Policy</a>
                <a href="#">Terms of Service</a>
                <a href="#">Sitemap</a>
            </div>
            <p>&copy; 2023 Lumina Blog. Built with clean HTML, CSS & JS.</p>
        </div>
    </footer>

    <script>
        /**
         * ==========================================
         * DATA STORE (Mock Database)
         * ==========================================
         */
        const AUTHORS = {
            1: { name: "Sarah Jenkins", role: "Senior UI Designer", avatar: "https://picsum.photos/seed/sarah/150/150" },
            2: { name: "David Chen", role: "Full Stack Engineer", avatar: "https://picsum.photos/seed/david/150/150" },
            3: { name: "Elena Rodriguez", role: "Frontend Architect", avatar: "https://picsum.photos/seed/elena/150/150" }
        };

        const POSTS = [
            {
                id: 1,
                title: "The Future of Web Design in 2024",
                excerpt: "Exploring the shift towards brutalism, micro-interactions, and accessibility-first design systems.",
                content: `
                    <p>Web design is an ever-evolving field. As we move into 2024, we see a distinct shift away from hyper-flat design towards interfaces that have more personality and depth.</p>
                    <h2>The Return of Texture</h2>
                    <p>Designers are beginning to experiment with noise, gradients, and glassmorphism again, but in a much more refined way than before. The key is subtlety.</p>
                    <blockquote>"Accessibility is not a feature, it's a fundamental aspect of the web that allows everyone to participate."</blockquote>
                    <p>We are also seeing a massive push towards semantic HTML and CSS grid layouts that don't just look good, but perform exceptionally well on all devices.</p>
                    <h2>Performance as a Design Principle</h2>
                    <p>Gone are the days when a heavy hero section was acceptable. Core Web Vitals are now ranking factors, making speed a design constraint.</p>
                `,
                authorId: 1,
                category: "Design",
                tags: ["UI/UX", "Trends", "CSS"],
                image: "https://picsum.photos/seed/design1/800/600",
                date: "Oct 24, 2023",
                featured: true
            },
            {
                id: 2,
                title: "Mastering Asynchronous JavaScript",
                excerpt: "A deep dive into Promises, Async/Await, and the Event Loop to write cleaner non-blocking code.",
                content: "<p>Understanding the JavaScript event loop is crucial for any senior developer. This article breaks down the call stack, callback queue, and microtask queue...</p><p>We will look at practical examples using Fetch API and handling errors gracefully in complex chains.</p>",
                authorId: 2,
                category: "Technology",
                tags: ["JavaScript", "Programming", "Tutorial"],
                image: "https://picsum.photos/seed/js/800/600",
                date: "Oct 22, 2023",
                featured: false
            },
            {
                id: 3,
                title: "Server-Side Rendering vs. Static Generation",
                excerpt: "Choosing the right rendering strategy for your Next.js application.",
                content: "<p>When building modern web apps, the choice between SSR and SSG can define your architecture. SSR provides fresh data but at a computational cost. SSG is lightning fast but requires rebuilding.</p>",
                authorId: 3,
                category: "Technology",
                tags: ["React", "Next.js", "SSR"],
                image: "https://picsum.photos/seed/next/800/600",
                date: "Oct 20, 2023",
                featured: false
            },
            {
                id: 4,
                title: "Building Accessible Components",
                excerpt: "How to use ARIA roles and semantic HTML to ensure your site is usable by everyone.",
                content: "<p>Accessibility starts with HTML. Using the right tag for the job solves 80% of issues. The remaining 20% involves ARIA labels and keyboard navigation management.</p>",
                authorId: 1,
                category: "Design",
                tags: ["A11y", "HTML", "WCAG"],
                image: "https://picsum.photos/seed/a11y/800/600",
                date: "Oct 18, 2023",
                featured: false
            },
            {
                id: 5,
                title: "CSS Grid: The Ultimate Layout System",
                excerpt: "Why CSS Grid has replaced Flexbox for page layout and how to use it effectively.",
                content: "<p>While Flexbox is one-dimensional, Grid is two-dimensional. This makes it perfect for page layouts where you need control over rows and columns simultaneously.</p>",
                authorId: 3,
                category: "Design",
                tags: ["CSS", "Layout", "Frontend"],
                image: "https://picsum.photos/seed/grid/800/600",
                date: "Oct 15, 2023",
                featured: false
            },
            {
                id: 6,
                title: "TypeScript Best Practices",
                excerpt: "Moving beyond basic types to use Generics and Utility Types effectively.",
                content: "<p>TypeScript offers a powerful type system. Moving from `any` to proper interfaces and types makes your codebase robust and maintainable.</p>",
                authorId: 2,
                category: "Technology",
                tags: ["TypeScript", "Code Quality"],
                image: "https://picsum.photos/seed/ts/800/600",
                date: "Oct 12, 2023",
                featured: false
            }
        ];

        /**
         * ==========================================
         * APP STATE & UTILS
         * ==========================================
         */
        const state = {
            currentRoute: 'home',
            searchQuery: '',
            theme: localStorage.getItem('theme') || 'light'
        };

        const Utils = {
            debounce(func, wait) {
                let timeout;
                return function(...args) {
                    clearTimeout(timeout);
                    timeout = setTimeout(() => func.apply(this, args), wait);
                };
            },
            getAuthor(id) {
                return AUTHORS[id] || { name: "Unknown", role: "Contributor", avatar: "" };
            }
        };

        /**
         * ==========================================
         * UI COMPONENTS (Render Functions)
         * ==========================================
         */
        
        // 1. Post Card Component
        const PostCard = (post) => {
            const author = Utils.getAuthor(post.authorId);
            return `
                <article class="post-card fade-in">
                    <a href="#post/${post.id}" class="post-image-wrapper" tabindex="-1">
                        <img src="${post.image}" alt="${post.title}" class="post-image" loading="lazy">
                    </a>
                    <div class="post-content">
                        <div class="post-meta">
                            <img src="${author.avatar}" alt="${author.name}" class="author-avatar-small">
                            <span>${author.name}</span>
                            <span>&bull;</span>
                            <span>${post.date}</span>
                        </div>
                        <a href="#post/${post.id}">
                            <h3 class="post-title">${post.title}</h3>
                        </a>
                        <p class="post-excerpt">${post.excerpt}</p>
                        <div style="margin-top: auto; padding-top: 1rem;">
                            <span class="tag">${post.category}</span>
                        </div>
                    </div>
                </article>
            `;
        };

        // 2. Featured Post Component
        const FeaturedPost = (post) => {
            const author = Utils.getAuthor(post.authorId);
            return `
                <section class="featured-post fade-in">
                    <img src="${post.image}" alt="${post.title}" class="featured-image" loading="lazy">
                    <div class="featured-content">
                        <div class="post-meta">
                            <span class="tag">Featured</span>
                            <span class="tag">${post.category}</span>
                        </div>
                        <a href="#post/${post.id}">
                            <h2 class="post-title" style="font-size: 2rem;">${post.title}</h2>
                        </a>
                        <div class="post-meta" style="margin-top: 1rem; margin-bottom: 1.5rem;">
                            <img src="${author.avatar}" alt="${author.name}" class="author-avatar-small">
                            <span>${author.name}</span>
                            <span>&bull;</span>
                            <span>${post.date}</span>
                        </div>
                        <p style="font-size: 1.1rem; margin-bottom: 1.5rem;">${post.excerpt}</p>
                        <a href="#post/${post.id}" class="btn btn-primary">Read Article</a>
                    </div>
                </section>
            `;
        };

        // 3. Pagination Component (Visual Only for demo)
        const Pagination = () => `
            <div class="pagination">
                <button class="btn btn-outline" disabled>Previous</button>
                <button class="page-btn active">1</button>
                <button class="page-btn">2</button>
                <button class="page-btn">3</button>
                <button class="btn btn-outline">Next</button>
            </div>
        `;

        // 4. Full Article Component
        const ArticleView = (post) => {
            const author = Utils.getAuthor(post.authorId);
            // Update Meta Tags dynamically
            document.title = `${post.title} | Lumina`;
            document.querySelector('meta[name="description"]').setAttribute("content", post.excerpt);

            return `
                <article class="article-view fade-in">
                    <header class="article-header">
                        <div class="post-meta" style="justify-content: center; margin-bottom: 1rem;">
                            <span class="tag">${post.category}</span>
                            <span>${post.date}</span>
                        </div>
                        <h1 class="article-title">${post.title}</h1>
                        <div class="article-meta-row">
                            <img src="${author.avatar}" alt="${author.name}" class="author-avatar-small" style="width: 48px; height: 48px;">
                            <div style="text-align: left;">
                                <div style="font-weight: 700; color: var(--text-main);">${author.name}</div>
                                <div style="font-size: 0.85rem;">${author.role}</div>
                            </div>
                        </div>
                    </header>
                    
                    <img src="${post.image}" alt="${post.title}" style="width: 100%; border-radius: var(--radius); margin-bottom: 3rem;">
                    
                    <div class="article-body">
                        ${post.content}
                    </div>

                    <div class="author-box">
                        <img src="${author.avatar}" alt="${author.name}" class="author-avatar-large">
                        <div>
                            <h4 style="margin-bottom: 0.5rem;">About ${author.name}</h4>
                            <p style="margin-bottom: 0;">${author.role} passionate about creating exceptional digital experiences. Lover of coffee, code, and clean design.</p>
                        </div>
                    </div>
                </article>
            `;
        };

        /**
         * ==========================================
         * ROUTER & VIEW CONTROLLER
         * ==========================================
         */
        const App = {
            root: document.getElementById('app'),

            init() {
                this.setupTheme();
                this.setupSearch();
                this.handleRoute(); // Handle initial load
                window.addEventListener('hashchange', () => this.handleRoute());
            },

            setupTheme() {
                const toggleBtn = document.getElementById('themeToggle');
                const sunIcon = document.querySelector('.sun-icon');
                const moonIcon = document.querySelector('.moon-icon');
                
                const applyTheme = (theme) => {
                    document.documentElement.setAttribute('data-theme', theme);
                    localStorage.setItem('theme', theme);
                    if(theme === 'dark') {
                        sunIcon.style.display = 'block';
                        moonIcon.style.display = 'none';
                    } else {
                        sunIcon.style.display = 'none';
                        moonIcon.style.display = 'block';
                    }
                };

                applyTheme(state.theme);

                toggleBtn.addEventListener('click', () => {
                    state.theme = state.theme === 'light' ? 'dark' : 'light';
                    applyTheme(state.theme);
                });
            },

            setupSearch() {
                const input = document.getElementById('searchInput');
                const handler = Utils.debounce((e) => {
                    state.searchQuery = e.target.value.toLowerCase();
                    if(window.location.hash !== '#home') {
                        window.location.hash = '#home';
                    } else {
                        this.renderHome();
                    }
                }, 300);

                input.addEventListener('input', handler);
            },

            handleRoute() {
                const hash = window.location.hash || '#home';
                const parts = hash.split('/');
                const route = parts[0];
                const param = parts[1]; // ID or Category

                window.scrollTo(0, 0);

                // Highlight active nav
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                const activeLink = document.querySelector(`a[href="${hash}"]`) || document.querySelector(`a[href="${route}"]`);
                if(activeLink) activeLink.classList.add('active');

                if (route === '#home') {
                    this.renderHome();
                } else if (route === '#post') {
                    this.renderPost(parseInt(param));
                } else if (route === '#category') {
                    this.renderCategory(param);
                } else if (route === '#about') {
                    this.renderAbout();
                } else {
                    this.renderHome();
                }
            },

            renderHome() {
                document.title = "Home | Lumina";
                document.querySelector('meta[name="description"]').setAttribute("content", "Latest articles and stories.");
                
                const filteredPosts = POSTS.filter(p => 
                    p.title.toLowerCase().includes(state.searchQuery) || 
                    p.excerpt.toLowerCase().includes(state.searchQuery) ||
                    p.category.toLowerCase().includes(state.searchQuery)
                );

                let html = '';

                if (filteredPosts.length === 0) {
                    this.root.innerHTML = `<div style="text-align:center; padding: 4rem;"><h3>No posts found.</h3><p>Try searching for something else.</p></div>`;
                    return;
                }

                // Featured Post (only show on first page or if search is empty)
                const featured = filteredPosts.find(p => p.featured);
                if (featured && !state.searchQuery) {
                    html += FeaturedPost(featured);
                }

                html += `<div class="grid-layout">`;
                // Render grid excluding featured if already shown
                const gridPosts = (featured && !state.searchQuery) 
                    ? filteredPosts.filter(p => p.id !== featured.id) 
                    : filteredPosts;

                html += gridPosts.map(post => PostCard(post)).join('');
                html += `</div>`;
                
                if (!state.searchQuery) {
                    html += Pagination();
                }

                this.root.innerHTML = html;
            },

            renderPost(id) {
                const post = POSTS.find(p => p.id === id);
                if (!post) {
                    this.root.innerHTML = `<h2>Post not found</h2><a href="#home" class="btn btn-primary">Go Home</a>`;
                    return;
                }
                this.root.innerHTML = ArticleView(post);
            },

            renderCategory(categoryName) {
                document.title = `${categoryName} | Lumina`;
                const posts = POSTS.filter(p => p.category === categoryName);
                
                let html = `
                    <div class="hero fade-in">
                        <h1>Category: ${categoryName}</h1>
                        <p>Exploring the best of ${categoryName.toLowerCase()}.</p>
                    </div>
                    <div class="grid-layout fade-in">
                        ${posts.map(post => PostCard(post)).join('')}
                    </div>
                `;
                this.root.innerHTML = html;
            },
            
            renderAbout() {
                document.title = "About | Lumina";
                this.root.innerHTML = `
                    <div class="container fade-in" style="max-width: 700px; padding-top: 2rem; text-align: center;">
                        <img src="https://picsum.photos/seed/logo/100/100" style="width: 100px; height: 100px; border-radius: 50%; margin: 0 auto 2rem;" alt="Lumina Logo">
                        <h1>About Lumina</h1>
                        <p style="font-size: 1.25rem; color: var(--text-main); margin-bottom: 2rem;">
                            We are a digital publication dedicated to high-quality engineering and design content.
                            Built on the principles of clean code, minimalism, and accessibility.
                        </p>
                        <div style="display: grid; grid-template-columns: 1fr 1fr; gap: 2rem; margin-top: 3rem; text-align: left;">
                            <div>
                                <h3>Our Mission</h3>
                                <p>To simplify complex technical topics for developers worldwide.</p>
                            </div>
                            <div>
                                <h3>Our Stack</h3>
                                <p>We love Semantic HTML, Modern CSS, and Vanilla JavaScript. No bloat, just speed.</p>
                            </div>
                        </div>
                    </div>
                `;
            }
        };

        // Boot the app
        document.addEventListener('DOMContentLoaded', () => {
            App.init();
        });

    </script>
</body>
</html>